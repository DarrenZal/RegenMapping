# Cambria lens to convert from Murmurations Person schema to Unified Person schema
# This lens transforms the simple Murmurations format into the comprehensive unified format

schemaName: Person

lens:
  # Basic field mappings
  - rename:
      source: name
      destination: name
  
  - rename:
      source: primary_url
      destination: primary_url
  
  # Map location fields
  - rename:
      source: locality
      destination: locality
  
  - rename:
      source: region
      destination: region
  
  - rename:
      source: country_name
      destination: country_name
  
  # Transform geolocation structure
  - in:
      name: "geolocation"
      lens:
        - rename:
            source: "lat"
            destination: "latitude"
        - rename:
            source: "lon"
            destination: "longitude"
  
  # Keep tags
  - rename:
      source: tags
      destination: tags
  
  # Keep relationships
  - rename:
      source: relationships
      destination: relationships
  
  # Keep linked_schemas
  - rename:
      source: linked_schemas
      destination: linked_schemas
