# Cambria lens to convert from Unified Organization schema to Schema.org Organization
# This lens transforms the comprehensive unified format into standard Schema.org format

schemaName: Organization

lens:
  # Remove unified-specific fields that shouldn't appear in Schema.org
  - remove: linked_schemas
  - remove: geolocation
  - remove: relationships
  - remove: organizationTypes
  - remove: primaryActivities
  - remove: targetAudiences
  - remove: domainTags
  - remove: methodTags
  - remove: theoryTags
  - remove: lastUpdated
  
  # Set Schema.org context (replacing the unified context)
  - add:
      destination: "@context"
      value: "https://schema.org/"
  
  # Set type to Organization
  - add:
      destination: "@type"
      value: "Organization"
  
  # Core organization information
  - rename:
      source: name
      destination: name
  
  - rename:
      source: primary_url
      destination: url
  
  - rename:
      source: tagline
      destination: description
  
  # Location information using Schema.org structure
  - rename:
      source: locality
      destination: addressLocality
  
  - rename:
      source: region  
      destination: addressRegion
  
  - rename:
      source: country_name
      destination: addressCountry
  
  # Map unified tags to Schema.org keywords
  - rename:
      source: tags
      destination: keywords
  
  # Pass through source_url if it exists (for lossless conversion)
  - rename:
      source: source_url
      destination: source_url