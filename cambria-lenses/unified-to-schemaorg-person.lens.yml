# Cambria lens to convert from Unified Person schema to Schema.org Person
# This lens transforms the comprehensive unified format into standard Schema.org format

schemaName: Person

lens:
  # Map fields to proper Schema.org structure
  - optionalRename:
      source: "domainTags"
      destination: "knowsAbout"
  - optionalRename:
      source: "primary_url"
      destination: "url"
  - optionalRename:
      source: "headline"
      destination: "jobTitle"
  - optionalRename:
      source: "locality"
      destination: "addressLocality"
  - optionalRename:
      source: "region"
      destination: "addressRegion"
  - optionalRename:
      source: "country_name"
      destination: "addressCountry"
  
  # Remove unified-specific fields that shouldn't appear in Schema.org
  - remove:
      name: "linked_schemas"
  - remove:
      name: "geolocation"
  - remove:
      name: "relationships"
  - remove:
      name: "currentTitle"
  - remove:
      name: "currentOrgId"
  - remove:
      name: "displayHandle"
  - remove:
      name: "methodTags"
  - remove:
      name: "theoryTags"
  - remove:
      name: "lastUpdated"
  - remove:
      name: "skills"
  - remove:
      name: "needs"
  - remove:
      name: "offers"
  - remove:
      name: "bioregion"
  - remove:
      name: "pronouns"
  - remove:
      name: "schema:version"
  - remove:
      name: "tags"
  
  # Set Schema.org context (replacing the unified context)
  - setValue:
      name: "@context"
      value: "https://schema.org/"
  
  # Set type to Person (should already be Person but ensure it's clean)
  - setValue:
      name: "@type"
      value: "Person"