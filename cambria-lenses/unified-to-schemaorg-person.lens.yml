# Cambria lens to convert from Unified Person schema to Schema.org Person
# This lens transforms the comprehensive unified format into standard Schema.org format

schemaName: Person

lens:
  # Basic field mappings
  - rename:
      source: name
      destination: name
  
  - rename:
      source: primary_url
      destination: url
  
  # Map unified tags to Schema.org knowsAbout
  - rename:
      source: tags
      destination: knowsAbout
  
  # Map headline to jobTitle if it exists
  - rename:
      source: headline
      destination: jobTitle
  
  # Keep location fields simple for now (complex nested structure can be handled by fallback conversion)
  - rename:
      source: locality
      destination: locality
  
  - rename:
      source: region
      destination: region
  
  - rename:
      source: country_name
      destination: country_name
  
  # Simplify context to just Schema.org
  - add:
      destination: "@context"
      value: "https://schema.org/"
  
  # Keep type
  - rename:
      source: "@type"
      destination: "@type"
  
  # Pass through source_url if it exists (for lossless conversion)
  - rename:
      source: source_url
      destination: source_url